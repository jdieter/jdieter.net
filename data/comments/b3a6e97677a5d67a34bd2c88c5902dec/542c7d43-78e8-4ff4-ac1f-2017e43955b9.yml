_id: 542c7d43-78e8-4ff4-ac1f-2017e43955b9
name: Jeff Darcy (@Obdurodon)
date: '2012-04-01T08:00:21Z'
message: "A bug report with logs would certainly be most appreciated, if you ever get the chance.  If you were using replication, then there would seem to be two mysteries: why the replication layer didn't deal with the single node failure by just using the other replica, and why the distribution layer responded incorrectly to the failure of the replica pair by deleting files that hadn't been written successfully to their new locations.  Neither behavior is consistent with my own experience, and the second failure seems particularly odd because the rebalance code doesn't actually *delete* any files (it copies and then renames over the original).  I assume that you checked for presence of the \"missing\" files on the bricks that had remained up, not just the one that had failed, to rule out the possibility that the failed brick had just not been properly reintegrated.  That would still be a bug, but of a different sort than what you've described.\r\n\r\nIn any case, I'm sorry that you had this problem, and thank you (in advance) for any information you can provide in case this is a problem that could affect others."
email: bd801fbe631896db54b9e62f28582e2b
